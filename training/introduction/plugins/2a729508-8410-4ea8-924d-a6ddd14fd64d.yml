id: 2a729508-8410-4ea8-924d-a6ddd14fd64d
name: Understanding the Connect plugin
challenge: Load the Connect plugin and beacon in an agent from a redirector.
context: |
  The Connect plugin offers 2 functions: deploying redirectors so agents can reach your Operator instance over the
  internet and deploying test computers for you to practice attacks on. In this situation we are going to utilize 
  both functions in order to beacon in a new agent from a virtual machine that you have deployed within Connect. 
  First, you will need to provision a redirector, then you will need to provision a virtual machine that of which
  will require a remote desktop protocol to access the virtual machine. Within the virtual machine, activate an agent 
  whose target is the redirector's address to successfully beacon in.
template:
  name: submit
  data: []
resources:
  links:
    Connect plugin: https://feed.prelude.org/p/cloudy-with-a-chance-of-redirectors
    AWS: https://feed.prelude.org/p/how-to-set-up-aws-for-operator
    Remote desktop protocol: https://docs.microsoft.com/en-us/troubleshoot/windows-server/remote/understanding-remote-desktop-protocol
hints:
  - Have you provisioned a virtual machine?
  - Did you download a remote desktop protocal?
  - have you provisioned a redirector?
blocks:
  Connect plugin: |
    On top of the aforementioned functions, the Connect plugin allows profesional users
    to launch Switchboards on their redirectors, which provides a management interface which makes it easy for a team
    to share an agent deployed in the field. Switchboard supports re-routing the network connection for any agent,
    including which Operator instance to direct the agent into.
  Remote desktop protocol: |
    Remote Desktop Protocol (RDP) is a proprietary protocol developed by Microsoft that provides a 
    graphical interface for users to connect to another computer over a network connection.
  Virtual machine: |
    Virtual machines allow you to run an operating system in a desktop app window that acts like a completely 
    independent computer within a safe, sandboxed environment.  
answer:
  script: Number(Agent.agents.filter(function(a) { return a.metadata.redirector}).length) > 0
value: True
